<?php/** * RELPROGRU_MYSQL.class.php *  **/class RELPROGRU_MYSQL {	public static $DATABASE_NAME = 'posgourmet';	public static $TABLE_NAME = 'relprogru_mysql';public $CONN;	public $ID ;	public $COD_GRUPO ;	public $COD_PROD ;	public $CANTIDAD ;	public $UNIDAD ;	public $FACTOR ;	public $NOM_PROD ;	public $CANGRUPO ;	public $ORDEN ;	public $NOM_GRUPO ;function RELPROGRU_MYSQL($con) {$this->CON=$con;}	function contructor($ID,$COD_GRUPO,$COD_PROD,$CANTIDAD,$UNIDAD,$FACTOR,$NOM_PROD,$CANGRUPO,$ORDEN,$NOM_GRUPO){	$this->ID=$ID;	$this->COD_GRUPO=$COD_GRUPO;	$this->COD_PROD=$COD_PROD;	$this->CANTIDAD=$CANTIDAD;	$this->UNIDAD=$UNIDAD;	$this->FACTOR=$FACTOR;	$this->NOM_PROD=$NOM_PROD;	$this->CANGRUPO=$CANGRUPO;	$this->ORDEN=$ORDEN;	$this->NOM_GRUPO=$NOM_GRUPO;	}function insertar() { $consulta="INSERT INTO relprogru_mysql(ID,COD_GRUPO,COD_PROD,CANTIDAD,UNIDAD,FACTOR,NOM_PROD,CANGRUPO,ORDEN)values('".$this->ID."','".$this->COD_GRUPO."','".$this->COD_PROD."','".$this->CANTIDAD."','".$this->UNIDAD."','".$this->FACTOR."','".$this->NOM_PROD."','".$this->CANGRUPO."','".$this->ORDEN."')";if (!$this->CON->manipular($consulta))            return 0;        $consulta = "SELECT LAST_INSERT_ID() as id";        $resultado = $this->CON->consulta($consulta);        return $resultado->fetch_assoc()['id'];}function rellenar($resultado){        if (count($resultado)) {            $lista=array();            while($row = $resultado->fetch_assoc()) {	$relprogru_mysql= new RELPROGRU_MYSQL("");		$relprogru_mysql->ID=$row["ID"] ==null?"":$row["ID"];		$relprogru_mysql->COD_GRUPO=$row["COD_GRUPO"] ==null?"":$row["COD_GRUPO"];		$relprogru_mysql->COD_PROD=$row["COD_PROD"] ==null?"":$row["COD_PROD"];		$relprogru_mysql->CANTIDAD=$row["CANTIDAD"] ==null?"":$row["CANTIDAD"];		$relprogru_mysql->UNIDAD=$row["UNIDAD"] ==null?"":$row["UNIDAD"];		$relprogru_mysql->FACTOR=$row["FACTOR"] ==null?"":$row["FACTOR"];		$relprogru_mysql->NOM_PROD=$row["NOM_PROD"] ==null?"":$row["NOM_PROD"];		$relprogru_mysql->CANGRUPO=$row["CANGRUPO"] ==null?"":$row["CANGRUPO"];		$relprogru_mysql->ORDEN=$row["ORDEN"] ==null?"":$row["ORDEN"];		$relprogru_mysql->NOM_GRUPO=$row["NOM_GRUPO"] ==null?"":$row["NOM_GRUPO"];		$lista[]=$relprogru_mysql;	}	return $lista;}	else{            return null;        }}function todo(){        $consulta="select * from relprogru_mysql";        $result=$this->CON->consulta($consulta);        return $this->rellenar($result);    }function buscarXID($id){        $consulta="SELECT *  FROM grupos_mysql,relprogru_mysql,productos_mysql where relprogru_mysql.COD_GRUPO=grupos_mysql.COD_GRUPO and relprogru_mysql.COD_PROD=productos_mysql.cod_prod and productos_mysql.cod_prod=".$id;        $result=$this->CON->consulta($consulta);        $relprogru_mysql=$this->rellenar($result);        if($relprogru_mysql==null){        		            return null;        }        return $relprogru_mysql;    }    function modificar($id,$factor){    	   $consulta = "update relprogru_mysqlset factor=".$factor." WHERE id=". $id;        return $this->CON->manipular($consulta);    }    function eliminar($id){    	   $consulta = "DELETE from relprogru_mysql WHERE relprogru_mysql.ID=".$id;        return $this->CON->manipular($consulta);    }}
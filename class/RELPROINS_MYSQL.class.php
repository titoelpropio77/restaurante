<?php/** * RELPROINS_MYSQL.class.php * RELPROINS **/class RELPROINS_MYSQL {	public static $DATABASE_NAME = 'posgourmet';	public static $TABLE_NAME = 'relproins_mysql';public $CONN;	public $ID ;	/**	 * @var COD_PROD	 */	public $COD_PROD ;	/**	 * @var COD_INS	 */	public $COD_INS ;	/**	 * @var CANTIDAD	 */	public $CANTIDAD ;	public $NOM_INSUMO ;function RELPROINS_MYSQL($con) {$this->CON=$con;}	function contructor($ID,$COD_PROD,$COD_INS,$CANTIDAD,$NOM_INSUMO){	$this->ID=$ID;	$this->COD_PROD=$COD_PROD;	$this->COD_INS=$COD_INS;	$this->CANTIDAD=$CANTIDAD;	$this->NOM_INSUMO=$NOM_INSUMO;	}function insertar() { $consulta="INSERT INTO relproins_mysql(ID,COD_PROD,COD_INS,CANTIDAD)values('".$this->ID."','".$this->COD_PROD."','".$this->COD_INS."','".$this->CANTIDAD."')";if (!$this->CON->manipular($consulta))            return 0;        $consulta = "SELECT LAST_INSERT_ID() as id";        $resultado = $this->CON->consulta($consulta);        return $resultado->fetch_assoc()['id'];}function rellenar($resultado){        if (count($resultado) > 0) {            $lista=array();            while($row = $resultado->fetch_assoc()) {	$relproins_mysql= new RELPROINS_MYSQL("");		$relproins_mysql->ID=$row["ID"] ==null?"":$row["ID"];		$relproins_mysql->COD_PROD=$row["COD_PROD"] ==null?"":$row["COD_PROD"];		$relproins_mysql->COD_INS=$row["COD_INS"] ==null?"":$row["COD_INS"];		$relproins_mysql->CANTIDAD=$row["CANTIDAD"] ==null?"":$row["CANTIDAD"];		$relproins_mysql->NOM_INSUMO=$row["NOM_INSUMO"] ==null?"":$row["NOM_INSUMO"];		$lista[]=$relproins_mysql;};	return $lista;}	else{            return null;        }}function todo(){        $consulta="select * from relproins_mysql";        $result=$this->CON->consulta($consulta);        return $this->rellenar($result);    }function buscarXID($id){        $consulta="select insumos_mysql.NOM_INSUMO,relproins_mysql.CANTIDAD ,relproins_mysql.ID,relproins_mysql.COD_PROD,relproins_mysql.COD_INS from relproins_mysql,productos_mysql,insumos_mysql where relproins_mysql.COD_PROD=productos_mysql.cod_prod and insumos_mysql.COD_INS=relproins_mysql.COD_INS and relproins_mysql.COD_PROD=".$id;        $result=$this->CON->consulta($consulta);        $relproins_mysql=$this->rellenar($result);        if($relproins_mysql==null){            return null;        }        return $relproins_mysql;   }   function modificar($id,$cantidad){   	$consulta="update 	relproins_mysql    	set CANTIDAD=".$cantidad."    	where ID=".$id;   	return $this->CON->manipular($consulta);   }function eliminar($id){	$consulta="delete from relproins_mysql where ID=".$id;	 	return $this->CON->manipular($consulta);}}